<textarea id="content" style="border: 1px solid black;width: 800px;height: 200px;">
* foo
* bar
* baz


    $(function(){
        $('div').html('I am a div.');
    });

#### another code

    function Add(int x, int y)
    {
         return x + y;
    }
</textarea>
<br/>
<button id="preview">Preview</button>
<div style="border: 1px solid black;width: 800px;height: 200px;overflow: scroll;" id="output"></div>
<link href="default.css" rel="stylesheet">
<script type="text/javascript" src="markdown-it.js"></script>
<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" src="highlight.pack.js"></script>
<script>
    hljs.initHighlightingOnLoad();

    var textareas = document.getElementsByTagName('textarea');
    var count = textareas.length;
    for (var i = 0; i < count; i++) {
        textareas[i].onkeydown = function (e) {
            var keyCode = e.keyCode || e.which;

            if (keyCode == 9) {
                e.preventDefault();
                var start = this.selectionStart;
                var end = this.selectionEnd;
                var val = this.value;
                var selected = val.substring(start, end);
                var re, count;

                if (e.shiftKey) {
                    re = /^\t/gm;
                    count = -selected.match(re).length;
                    this.value = val.substring(0, start) + selected.replace(re, '') + val.substring(end);
                    // todo: add support for shift-tabbing without a selection
                } else {
                    re = /^/gm;
                    count = selected.match(re).length;
                    this.value = val.substring(0, start) + selected.replace(re, '\t') + val.substring(end);
                }

                if (start === end) {
                    this.selectionStart = end + count;
                } else {
                    this.selectionStart = start;
                }

                this.selectionEnd = end + count;
            }
        }
    }

    var md = markdownit();

    function preview() {
        var input = $("#content").val();
        var output = md.render(input);
        $("#output").html(output);
        $('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
    }

    $("#preview").click(preview);

    preview();
</script>